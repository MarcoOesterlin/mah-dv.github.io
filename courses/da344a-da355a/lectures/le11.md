---
title: Geolocation & media
code: "da344a-da355a"
---

# Geolocation & media

<iframe src="//www.slideshare.net/slideshow/embed_code/key/UBK4ukBmMXOQI" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/AntonTibblin/vt2018-da355a-localstorage-bootstrap" title="VT2018 - DA355A - LocalStorage &amp; Bootstrap" target="_blank">VT2018 - DA355A - LocalStorage &amp; Bootstrap</a> </strong> from <strong><a href="https://www.slideshare.net/AntonTibblin" target="_blank">Anton Tibblin</a></strong> </div>

[Ladda ner dagens föreläsning här](LocalStorageBootstrap.pdf)

## Dagens exempel

### LocalStorage & Cookies
```js
if (document.cookie == "") {
	// Ingen cookie
	var name = prompt("Hej! Vad heter du?");
	document.cookie = "name="+name;
} else {
	// Finns cookie
	alert("Hej " +document.cookie.split("=")[1] + "!");
}

if (localStorage.getItem("name") == null) {
	// Finns inget namn
	var name = prompt("Hej! Vad heter du?");
	localStorage.setItem("name", name);
} else {
	// Finns ett namn
	alert("Hej " + localStorage.getItem("name") + "!");
}
```
### Början av vår Todo-app

[Ni kan ladda ner exemplet här](todo-start.zip)

#### JavaScript

```js
/*
	Bra att veta:
	
	1) Våra todos sparas i ett objekt, t.ex.
		{
			title: "Rätta inlämningsuppgifter",
			prio: 3
		}
		
	2) Alla våra todos ligger sedan i en lista, t.ex.
		[
			{...},
			{...},
			{...},
			{...}
		]
		
	3) Listan på todos sparas i localStorage, men nyckeln "todos"
	
	4) För att göra en lista med alla todos till JSON använder vi för att spara detta i localStorage.
		JSON.parse(string) // Gör om en sträng till datatyper
		JSON.stringify(data) // Gör om datatyper till strängar
*/

// Ladda in todos, när sidan körs
renderTodos();


function getTodos() {
	// Hämtar alla todos från localStorage
	var todos = localStorage.getItem("todos");
	
	// Kontrollera om det finns några todos i localStorage
	if(todos == null) {
		// Det finns inget i localStorage, så vi skapar en tom lista där
		localStorage.setItem("todos", JSON.stringify([]));
		// Returnerar en tom lista (= inga todos)
		return [];
	} else {
		// Returnerar alla todos i en lista (från JSON => lista med objekt)
		return JSON.parse(todos);
	}
}

function renderTodos() {
	// Hämtar alla todos
	var todos = getTodos();

	// För varje todo, i listan av todos
	for (var i = 0; i < todos.length; i++) {
		// Plocka ut aktuell todo från listan
		var todo = todos[i];

		// Lägger till vår todo i <tbody>-elementet i elementet #todo-table
		$("#todo-table tbody").append("\
			<tr>\
				<td>" + todo.title + "</td>\
				<td>" + todo.prio + "</td>\
			</tr>\
		");
	}
}
```

#### HTML

```html
<!doctype html>
<html>
	<head>
		<title>Bootstrap och LocalStorage</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<style>
			video{
				max-width: 400px;
			}
		</style>
	</head>
	<body>

		<video id="movie">
			<source src="video.ogg" type="video/ogg">
			<source src="video.mp4" type="video/mp4">
		</video>


		<br>

		<button class="btn btn-success" id="start-movie">Starta</button>
		<button class="btn btn-warning" id="paus-movie">Pausa</button>

		<button class="btn btn-default" id="mute-movie">Mute/unmute</button>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script>
		$("#start-movie").on("click", function(){
			// document.querySelector("#movie").play();
			$("#movie")[0].play();
		});
		$("#paus-movie").on("click", function(){
			// document.querySelector("#movie").play();
			$("#movie")[0].pause();
		});

		$("#mute-movie").on("click", function(){
			// document.querySelector("#movie").play();
			var videoElement = $("#movie")[0];
			if(videoElement.muted == true){
				videoElement.muted = false;
			}else{
				videoElement.muted = true;
			}
		});


		</script>
	</body>
</html>
```
